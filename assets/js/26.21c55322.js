(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{433:function(t,s,a){"use strict";a.r(s);var n=a(2),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("期末月前本来部署过一次，昨天部署的时候发现又给忘了，而且出了很多问题，在这统一汇总一下。")]),t._v(" "),s("h3",{attrs:{id:"步骤一-改端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤一-改端口"}},[t._v("#")]),t._v(" 步骤一：改端口")]),t._v(" "),s("p",[t._v("在vue.config.js下的devServer把host改成服务器的地址")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/ef9ed53689b240b78c82272ac283b313.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h3",{attrs:{id:"步骤二-打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤二-打包"}},[t._v("#")]),t._v(" 步骤二： 打包")]),t._v(" "),s("p",[t._v("用"),s("code",[t._v("npm run build")]),t._v("打包，最后是这样的，并且目录下多了个dist文件夹")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/4cc972e86f9640abb87e1e03c85c80a0.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h3",{attrs:{id:"步骤三-将dist文件夹上传到服务器上"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤三-将dist文件夹上传到服务器上"}},[t._v("#")]),t._v(" 步骤三：将dist文件夹上传到服务器上")]),t._v(" "),s("p",[t._v("我用的xshell，没办法上传文件夹，所以我是压缩成rar用rz上传再在服务器上解压的，至于linux怎么解压rar，看这"),s("a",{attrs:{href:"https://blog.csdn.net/weixin_45941099/article/details/122401242",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何在Linux系统中解压rar文件"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("肯定有更好的方法，但是我还没找到。解压后长这样")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/ace7c857648240ab881d6aba164d06db.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("h3",{attrs:{id:"步骤四-修改nginx-conf-重中之重"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤四-修改nginx-conf-重中之重"}},[t._v("#")]),t._v(" 步骤四:修改nginx.conf(重中之重)")]),t._v(" "),s("p",[t._v("这一步很关键，设置不好可能出现页面403或404报错。")]),t._v(" "),s("p",[t._v("首先，用"),s("code",[t._v("nginx -t")]),t._v("找到nginx.conf的具体路径")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/c2e2a705d8c8453594ac08dc2f4a6d68.png",alt:"!2a3be3bf.png)"}})]),t._v(" "),s("p",[t._v("接下来开始编辑这个文件，下图这个地方要改成当前操作用户的用户名，不然可能部署之后打开页面报错403。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/5615e7a6b4274962a528719e579e7e14.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("p",[t._v("接下来，将1部分改成解压后的dist存放位置")]),t._v(" "),s("p",[t._v("2和3是解决路由刷新报错404的问题")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/f2883edad9e046798e5736f2c7ddbf11.png",alt:"在这里插入图片描述"}})]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v(" try_files $uri $uri"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" @router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n location @router "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rewrite "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("$ "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html last"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"步骤五-重启nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#步骤五-重启nginx"}},[t._v("#")]),t._v(" 步骤五：重启nginx")]),t._v(" "),s("p",[s("code",[t._v("systemctl restart nginx")])]),t._v(" "),s("p",[t._v("然后就能正常打开页面啦")])])}),[],!1,null,null,null);s.default=r.exports}}]);